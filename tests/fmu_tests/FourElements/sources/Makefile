# Makefile generated by OpenModelica
CC=clang
AR=@AR@
CFLAGS=-O0 -g -fPIC -falign-functions -mfpmath=sse -fno-dollars-in-identifiers -Wno-parentheses-equality 
LD=$(CC) -shared
# define OMC_LDFLAGS_LINK_TYPE env variable to override this
OMC_LDFLAGS_LINK_TYPE=static
LDFLAGS=-L'/usr/bin/../lib/x86_64-linux-gnu/omc' -Wl,-rpath,'/usr/bin/../lib/x86_64-linux-gnu/omc'   -Wl,-Bstatic -lSimulationRuntimeFMI  -Wl,--no-as-needed -Wl,--disable-new-dtags -llapack -lblas  -Wl,-Bdynamic -lm -lpthread -rdynamic  -Wl,--no-undefined 
DLLEXT=.so
NEED_RUNTIME=
NEED_DGESV=
NEED_CMINPACK=
NEED_SUNDIALS=
FMIPLATFORM=linux64
# Note: Simulation of the fmu with dymola does not work with -finline-small-functions (enabled by most optimization levels)
CPPFLAGS=-I. -I'/usr/bin/../include/omc/c/fmi' -DOMC_FMI_RUNTIME=1 -O0 -g  -DCMINPACK_NO_DLL=1

override CPPFLAGS += "-I/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/C-Sources" "-I/home/marius/modelica-buildings/Buildings/Resources/C-Sources"

CFILES = Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_functions.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_records.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_01exo.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_02nls.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_03lsy.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_04set.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_05evt.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_06inz.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_07dly.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_08bnd.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_09alg.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_10asr.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_11mix.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_12jac.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_13opt.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_14lnz.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_15syn.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_16dae.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_17inl.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_18spd.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_init_fmu.c \
         Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_FMU.c
OFILES=$(CFILES:.c=.o)

RUNTIMEDIR=.
ifneq ($(NEED_DGESV),)
DGESV_OBJS = ./external_solvers/dgesv.o ./external_solvers/dgetrf.o ./external_solvers/dlamch.o ./external_solvers/ilaenv.o ./external_solvers/xerbla.o ./external_solvers/dgetf2.o ./external_solvers/dgetrs.o ./external_solvers/dlaswp.o ./external_solvers/ieeeck.o ./external_solvers/iparmq.o ./external_solvers/dgemm.o ./external_solvers/dger.o ./external_solvers/dscal.o ./external_solvers/dswap.o ./external_solvers/dtrsm.o ./external_solvers/idamax.o ./external_solvers/lsame.o ./external_solvers/i_nint.o ./external_solvers/pow_di.o ./external_solvers/s_cmp.o ./external_solvers/s_copy.o
endif
ifneq ($(NEED_CMINPACK),)
CMINPACK_OBJS=./external_solvers/enorm_.o ./external_solvers/hybrj_.o ./external_solvers/dpmpar_.o ./external_solvers/qrfac_.o ./external_solvers/qform_.o ./external_solvers/dogleg_.o ./external_solvers/r1updt_.o ./external_solvers/r1mpyq_.o
endif
ifneq ($(NEED_RUNTIME),)
RUNTIMEFILES=./gc/memory_pool.o ./gc/omc_gc.o ./util/base_array.o ./util/boolean_array.o ./util/context.o ./util/division.o ./util/doubleEndedList.o ./util/generic_array.o ./util/index_spec.o ./util/integer_array.o ./util/jacobian_util.o ./util/list.o ./util/modelica_string_lit.o ./util/modelica_string.o ./util/ModelicaUtilities.o ./util/omc_error.o ./util/omc_file.o ./util/omc_init.o ./util/omc_mmap.o ./util/omc_msvc.o ./util/omc_numbers.o ./util/parallel_helper.o ./util/rational.o ./util/real_array.o ./util/ringbuffer.o ./util/simulation_options.o ./util/string_array.o ./util/utility.o ./util/varinfo.o ./math-support/pivot.o ./simulation/omc_simulation_util.o ./simulation/options.o ./simulation/simulation_info_json.o ./simulation/simulation_omc_assert.o ./simulation/solver/delay.o ./simulation/solver/fmi_events.o ./simulation/solver/model_help.o ./simulation/solver/omc_math.o ./simulation/solver/spatialDistribution.o ./simulation/solver/stateset.o ./simulation/solver/synchronous.o ./simulation/solver/initialization/initialization.o ./meta/meta_modelica_catch.o ./simulation/solver/linearSystem.o ./simulation/solver/linearSolverLapack.o ./simulation/solver/linearSolverTotalPivot.o ./simulation/solver/nonlinearSolverHomotopy.o ./simulation/solver/nonlinearSolverHybrd.o ./simulation/solver/nonlinearValuesList.o ./simulation/solver/nonlinearSystem.o $(DGESV_OBJS) $(CMINPACK_OBJS)
endif
ifneq ($(NEED_SUNDIALS),)
FMISUNDIALSFILES=
LDFLAGS+=-Wl,-Bstatic -lsundials_cvode -lsundials_nvecserial -Wl,-Bdynamic
endif

PHONY: Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_FMU
Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_FMU: nozip
	cd .. && rm -f ../Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.fmu && zip -r ../Buildings.ThermalZones.ReducedOrder.Examples.SimpleRoomFourElements.fmu *
nozip: Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_functions.h Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_literals.h $(OFILES) $(RUNTIMEFILES) $(FMISUNDIALSFILES)
	mkdir -p ../binaries/$(FMIPLATFORM)
ifeq (1,1)
	$(LD) -o Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements$(DLLEXT) $(OFILES) $(RUNTIMEFILES) $(FMISUNDIALSFILES) -L"/home/marius/modelica-buildings/Buildings/ThermalZones/ReducedOrder/Examples"  "-L/usr/bin/../lib/x86_64-linux-gnu/omc" -Wl,-rpath="/usr/bin/../lib/x86_64-linux-gnu/omc" "-L/usr/bin/../lib/" -Wl,-rpath="/usr/bin/../lib/" "-L/home/marius/.openmodelica/binaries/Modelica" -Wl,-rpath="/home/marius/.openmodelica/binaries/Modelica" "-L/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library/x86_64-linux" -Wl,-rpath="/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library/x86_64-linux" "-L/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library/linux64" -Wl,-rpath="/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library/linux64" "-L/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library" -Wl,-rpath="/home/marius/.openmodelica/libraries/Modelica 4.0.0+maint.om/Resources/Library" -lModelicaExternalC -lModelicaStandardTables -lModelicaIO -lModelicaMatIO -lzlib -Wl,-Bdynamic $(LDFLAGS)
	cp Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements$(DLLEXT) Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_FMU.libs ../binaries/$(FMIPLATFORM)/
endif
	head -n20 Makefile > ../resources/$(FMIPLATFORM).summary
ifeq (@LIBTYPE_STATIC@,1)
	rm -f Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.a
	$(AR) -rsu Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.a $(OFILES) $(RUNTIMEFILES) $(FMISUNDIALSFILES)
	cp Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.a Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements_FMU.libs ../binaries/$(FMIPLATFORM)/
endif
distclean: clean
	rm -f Makefile config.status config.log
clean:
	rm -f Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.def Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.o Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements.a Buildings_ThermalZones_ReducedOrder_Examples_SimpleRoomFourElements$(DLLEXT) $(MAINOBJ) $(OFILES) $(RUNTIMEFILES) $(FMISUNDIALSFILES)